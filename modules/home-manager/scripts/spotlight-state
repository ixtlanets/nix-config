#!/usr/bin/env bash

SPOTLIGHT_STATE_FILE="/tmp/spotlight_state"

case "$1" in
    "active")
        if [ -f "$SPOTLIGHT_STATE_FILE" ]; then
            echo "true"
        else
            echo "false"
        fi
        ;;
    "activate")
        echo "active" > "$SPOTLIGHT_STATE_FILE"
        ;;
    "deactivate")
        rm -f "$SPOTLIGHT_STATE_FILE"
        ;;
    "toggle")
        if [ -f "$SPOTLIGHT_STATE_FILE" ]; then
            rm -f "$SPOTLIGHT_STATE_FILE"
            echo "deactivated"
        else
            echo "active" > "$SPOTLIGHT_STATE_FILE"
            echo "activated"
        fi
        ;;
    *)
        echo "Usage: $0 {active|activate|deactivate|toggle}"
        echo "  active     - Check if spotlight is active (returns true/false)"
        echo "  activate   - Activate spotlight"
        echo "  deactivate - Deactivate spotlight"
        echo "  toggle     - Toggle spotlight state"
        exit 1
        ;;
esac